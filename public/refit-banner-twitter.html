<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReFit Twitter Banner Generator</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #000;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            color: white;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            max-width: 1600px;
            width: 100%;
        }
        canvas {
            border: 1px solid #333;
            border-radius: 12px;
            max-width: 100%;
            height: auto;
        }
        .preview-container {
            width: 100%;
            max-width: 1500px;
            aspect-ratio: 3/1;
            position: relative;
            border: 1px solid #333;
            border-radius: 12px;
            overflow: hidden;
        }
        button {
            background: linear-gradient(135deg, #9945FF 0%, #14F195 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }
        button:hover {
            transform: scale(1.05);
        }
        .options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .option-btn {
            background: #1a1a1a;
            border: 2px solid #333;
            min-width: 150px;
        }
        .option-btn:hover {
            border-color: #9945FF;
            background: #2a2a2a;
        }
        .option-btn.active {
            background: linear-gradient(135deg, #9945FF 0%, #14F195 100%);
            border-color: #14F195;
        }
        h1 {
            text-align: center;
            background: linear-gradient(135deg, #9945FF 0%, #14F195 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        p {
            color: #888;
            text-align: center;
            max-width: 600px;
        }
        .download-section {
            display: flex;
            gap: 10px;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ReFit Twitter Banner Generator</h1>
        <p>Choose a design and download your Twitter banner (1500x500px - Twitter's recommended size)</p>
        
        <canvas id="canvas" width="3000" height="1000" style="max-width: 100%; height: auto;"></canvas>
        
        <div class="options">
            <button class="option-btn" onclick="drawBanner('flow')">Device to SOL Flow</button>
            <button class="option-btn" onclick="drawBanner('circuit')">Circuit Board</button>
            <button class="option-btn" onclick="drawBanner('wave')">Gradient Wave</button>
            <button class="option-btn" onclick="drawBanner('constellation')">Tech Constellation</button>
            <button class="option-btn" onclick="drawBanner('perpetual')">Perpetual Upgrade</button>
            <button class="option-btn" onclick="drawBanner('minimal')">Minimal Clean</button>
            <button class="option-btn" onclick="drawBanner('jobs')">Jobs Approvedâ„¢</button>
        </div>
        
        <div class="download-section">
            <button onclick="downloadImage()">Download Banner (PNG)</button>
            <button onclick="downloadImage('jpg')">Download Banner (JPG)</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let currentStyle = 'flow';
        let particles = [];
        
        // 2x resolution for better quality
        const scale = 2;
        const width = 1500 * scale;
        const height = 500 * scale;
        
        // Initialize particles for animation
        function initParticles(count = 50) {
            particles = [];
            for (let i = 0; i < count; i++) {
                particles.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    size: (Math.random() * 3 + 1) * scale,
                    opacity: Math.random() * 0.5 + 0.2
                });
            }
        }

        function drawBanner(style = 'flow') {
            currentStyle = style;
            
            // Update active button
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.toLowerCase().includes(style.toLowerCase()) || 
                    (style === 'flow' && btn.textContent.includes('Device to SOL')) ||
                    (style === 'jobs' && btn.textContent.includes('Jobs Approved'))) {
                    btn.classList.add('active');
                }
            });
            
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Draw based on style
            switch(style) {
                case 'flow':
                    drawDeviceToSolFlow();
                    break;
                case 'circuit':
                    drawCircuitBoard();
                    break;
                case 'wave':
                    drawGradientWave();
                    break;
                case 'constellation':
                    drawTechConstellation();
                    break;
                case 'perpetual':
                    drawPerpetualUpgrade();
                    break;
                case 'minimal':
                    drawMinimal();
                    break;
                case 'jobs':
                    drawJobsApproved();
                    break;
            }
        }

        function drawJobsApproved() {
            // Steve Jobs would want: Perfect typography, lots of space, one bold statement
            
            // Enable highest quality rendering
            ctx.imageSmoothingEnabled = true;
            ctx.imageSmoothingQuality = 'high';
            
            // Pure black - no gradients, no noise
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, width, height);
            
            ctx.save();
            
            // The brand - bold, confident, centered
            // Using the golden ratio for positioning (height * 0.382)
            const goldenY = height * 0.382;
            
            ctx.font = `700 ${140 * scale}px -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", sans-serif`;
            ctx.textAlign = 'center';
            ctx.fillStyle = '#ffffff';
            ctx.fillText('ReFit', width/2, goldenY);
            
            // The promise - lighter, smaller, perfect spacing
            ctx.font = `300 ${34 * scale}px -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", sans-serif`;
            ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
            
            // Add letter spacing manually for perfect control
            const tagline = 'Your old phone is worth SOL';
            const letterSpacing = 1.5 * scale;
            let totalWidth = ctx.measureText(tagline).width;
            
            // Draw each letter with custom spacing
            ctx.fillText(tagline, width/2, goldenY + (100 * scale));
            
            // One single, perfect gradient dot - not a line, just a subtle accent
            const dotGradient = ctx.createRadialGradient(width/2, goldenY + (140 * scale), 0, width/2, goldenY + (140 * scale), 4 * scale);
            dotGradient.addColorStop(0, '#14F195');
            dotGradient.addColorStop(1, 'rgba(20, 241, 149, 0)');
            ctx.fillStyle = dotGradient;
            ctx.beginPath();
            ctx.arc(width/2, goldenY + (140 * scale), 4 * scale, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
        }

        function drawDeviceToSolFlow() {
            const width = 1500;
            const height = 500;
            
            // Gradient background
            const bgGradient = ctx.createLinearGradient(0, 0, width, height);
            bgGradient.addColorStop(0, '#0a0015');
            bgGradient.addColorStop(0.5, '#0f0a1f');
            bgGradient.addColorStop(1, '#000510');
            ctx.fillStyle = bgGradient;
            ctx.fillRect(0, 0, width, height);
            
            // Flow particles
            ctx.save();
            initParticles(100);
            particles.forEach(p => {
                const gradient = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size * 4);
                gradient.addColorStop(0, `rgba(153, 69, 255, ${p.opacity})`);
                gradient.addColorStop(1, 'rgba(20, 241, 149, 0)');
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size * 4, 0, Math.PI * 2);
                ctx.fill();
            });
            ctx.restore();
            
            // Device icons on left
            ctx.save();
            ctx.font = '60px Arial';
            ctx.globalAlpha = 0.3;
            const devices = ['ðŸ“±', 'ðŸ’»', 'âŒš', 'ðŸŽ®', 'ðŸ“·'];
            devices.forEach((device, i) => {
                ctx.fillText(device, 100 + (i % 3) * 80, 150 + Math.floor(i / 3) * 100);
            });
            ctx.globalAlpha = 1;
            ctx.restore();
            
            // Arrow flow
            ctx.save();
            ctx.strokeStyle = 'rgba(153, 69, 255, 0.5)';
            ctx.lineWidth = 3;
            ctx.setLineDash([10, 5]);
            ctx.beginPath();
            ctx.moveTo(350, 250);
            ctx.bezierCurveTo(600, 200, 900, 300, 1150, 250);
            ctx.stroke();
            ctx.restore();
            
            // SOL symbol on right
            ctx.save();
            const solGradient = ctx.createLinearGradient(1200, 150, 1350, 350);
            solGradient.addColorStop(0, '#14F195');
            solGradient.addColorStop(1, '#9945FF');
            ctx.font = 'bold 120px Arial';
            ctx.fillStyle = solGradient;
            ctx.fillText('â—Ž', 1250, 280);
            ctx.restore();
            
            // Main text
            ctx.save();
            const textGradient = ctx.createLinearGradient(500, 0, 1000, 0);
            textGradient.addColorStop(0, '#9945FF');
            textGradient.addColorStop(0.5, '#14F195');
            textGradient.addColorStop(1, '#9945FF');
            
            ctx.font = 'bold 72px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = textGradient;
            ctx.textAlign = 'center';
            ctx.fillText('ReFit', 750, 200);
            
            ctx.font = '32px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.fillText('Your old phone is worth SOL', 750, 280);
            
            ctx.font = '20px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';
            ctx.fillText('Trade â€¢ Stake â€¢ Upgrade', 750, 350);
            ctx.restore();
        }

        function drawCircuitBoard() {
            const width = 1500;
            const height = 500;
            
            // Dark background
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, width, height);
            
            // Circuit pattern
            ctx.strokeStyle = 'rgba(153, 69, 255, 0.2)';
            ctx.lineWidth = 1;
            
            // Draw circuit lines
            for (let i = 0; i < 20; i++) {
                ctx.beginPath();
                const startX = Math.random() * width;
                const startY = Math.random() * height;
                ctx.moveTo(startX, startY);
                
                for (let j = 0; j < 3; j++) {
                    const nextX = startX + (Math.random() - 0.5) * 300;
                    const nextY = startY + (Math.random() - 0.5) * 200;
                    ctx.lineTo(nextX, nextY);
                    
                    // Add node
                    ctx.fillStyle = 'rgba(20, 241, 149, 0.6)';
                    ctx.fillRect(nextX - 3, nextY - 3, 6, 6);
                }
                ctx.stroke();
            }
            
            // Gradient overlay
            const overlay = ctx.createLinearGradient(0, 0, width, height);
            overlay.addColorStop(0, 'rgba(153, 69, 255, 0.1)');
            overlay.addColorStop(0.5, 'rgba(20, 241, 149, 0.1)');
            overlay.addColorStop(1, 'rgba(153, 69, 255, 0.1)');
            ctx.fillStyle = overlay;
            ctx.fillRect(0, 0, width, height);
            
            // Logo and text
            drawLogo(150, 250, 60);
            
            ctx.save();
            ctx.font = 'bold 64px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = '#ffffff';
            ctx.fillText('ReFit', 280, 240);
            
            ctx.font = '28px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
            ctx.fillText('Trade. Stake. Upgrade.', 280, 290);
            
            // Stats on right
            ctx.textAlign = 'right';
            ctx.font = '24px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = '#14F195';
            ctx.fillText('Instant Quotes', 1350, 200);
            ctx.fillText('Free Shipping', 1350, 250);
            ctx.fillText('Secure Data Wipe', 1350, 300);
            ctx.restore();
        }

        function drawGradientWave() {
            const width = 1500;
            const height = 500;
            
            // Gradient background
            const bgGradient = ctx.createLinearGradient(0, 0, width, 0);
            bgGradient.addColorStop(0, '#0a0015');
            bgGradient.addColorStop(0.3, '#1a0a2f');
            bgGradient.addColorStop(0.7, '#0a1f1f');
            bgGradient.addColorStop(1, '#000510');
            ctx.fillStyle = bgGradient;
            ctx.fillRect(0, 0, width, height);
            
            // Draw waves
            ctx.save();
            for (let i = 0; i < 3; i++) {
                ctx.beginPath();
                ctx.moveTo(0, height);
                
                for (let x = 0; x <= width; x += 10) {
                    const y = height * 0.6 + 
                             Math.sin((x / 200) + i) * 50 + 
                             Math.sin((x / 100) + i * 2) * 30 - 
                             i * 40;
                    ctx.lineTo(x, y);
                }
                
                ctx.lineTo(width, height);
                ctx.closePath();
                
                const waveGradient = ctx.createLinearGradient(0, 0, width, height);
                if (i === 0) {
                    waveGradient.addColorStop(0, 'rgba(153, 69, 255, 0.3)');
                    waveGradient.addColorStop(1, 'rgba(153, 69, 255, 0.1)');
                } else if (i === 1) {
                    waveGradient.addColorStop(0, 'rgba(20, 241, 149, 0.3)');
                    waveGradient.addColorStop(1, 'rgba(20, 241, 149, 0.1)');
                } else {
                    waveGradient.addColorStop(0, 'rgba(0, 217, 255, 0.3)');
                    waveGradient.addColorStop(1, 'rgba(0, 217, 255, 0.1)');
                }
                
                ctx.fillStyle = waveGradient;
                ctx.fill();
            }
            ctx.restore();
            
            // Text
            ctx.save();
            ctx.textAlign = 'center';
            ctx.font = 'bold 72px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = '#ffffff';
            ctx.fillText('ReFit', 750, 180);
            
            ctx.font = '32px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
            ctx.fillText('Your Device. Your Value. Your SOL.', 750, 240);
            
            // Powered by Solana badge
            ctx.font = '18px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
            ctx.fillText('Powered by Solana', 750, 320);
            ctx.restore();
        }

        function drawTechConstellation() {
            const width = 1500;
            const height = 500;
            
            // Dark blue-black background
            const bgGradient = ctx.createRadialGradient(750, 250, 0, 750, 250, 750);
            bgGradient.addColorStop(0, '#0a0a1f');
            bgGradient.addColorStop(1, '#000000');
            ctx.fillStyle = bgGradient;
            ctx.fillRect(0, 0, width, height);
            
            // Create constellation points
            const nodes = [];
            for (let i = 0; i < 30; i++) {
                nodes.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    size: Math.random() * 4 + 2,
                    connections: []
                });
            }
            
            // Connect nearby nodes
            nodes.forEach((node, i) => {
                nodes.forEach((other, j) => {
                    if (i !== j) {
                        const dist = Math.sqrt(
                            Math.pow(node.x - other.x, 2) + 
                            Math.pow(node.y - other.y, 2)
                        );
                        if (dist < 200 && node.connections.length < 3) {
                            node.connections.push(j);
                        }
                    }
                });
            });
            
            // Draw connections
            ctx.save();
            nodes.forEach((node, i) => {
                node.connections.forEach(j => {
                    const other = nodes[j];
                    const gradient = ctx.createLinearGradient(node.x, node.y, other.x, other.y);
                    gradient.addColorStop(0, 'rgba(153, 69, 255, 0.3)');
                    gradient.addColorStop(0.5, 'rgba(20, 241, 149, 0.2)');
                    gradient.addColorStop(1, 'rgba(153, 69, 255, 0.3)');
                    
                    ctx.strokeStyle = gradient;
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(node.x, node.y);
                    ctx.lineTo(other.x, other.y);
                    ctx.stroke();
                });
            });
            
            // Draw nodes
            nodes.forEach(node => {
                // Glow
                const glow = ctx.createRadialGradient(node.x, node.y, 0, node.x, node.y, node.size * 4);
                glow.addColorStop(0, 'rgba(20, 241, 149, 0.8)');
                glow.addColorStop(1, 'rgba(20, 241, 149, 0)');
                ctx.fillStyle = glow;
                ctx.beginPath();
                ctx.arc(node.x, node.y, node.size * 4, 0, Math.PI * 2);
                ctx.fill();
                
                // Core
                ctx.fillStyle = '#14F195';
                ctx.beginPath();
                ctx.arc(node.x, node.y, node.size, 0, Math.PI * 2);
                ctx.fill();
            });
            ctx.restore();
            
            // Central text
            ctx.save();
            // Dark overlay for text readability
            const textBg = ctx.createRadialGradient(750, 250, 0, 750, 250, 300);
            textBg.addColorStop(0, 'rgba(0, 0, 0, 0.8)');
            textBg.addColorStop(1, 'rgba(0, 0, 0, 0)');
            ctx.fillStyle = textBg;
            ctx.fillRect(450, 100, 600, 300);
            
            ctx.textAlign = 'center';
            ctx.font = 'bold 72px -apple-system, BlinkMacSystemFont, sans-serif';
            const textGradient = ctx.createLinearGradient(600, 0, 900, 0);
            textGradient.addColorStop(0, '#9945FF');
            textGradient.addColorStop(1, '#14F195');
            ctx.fillStyle = textGradient;
            ctx.fillText('ReFit', 750, 220);
            
            ctx.font = '28px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
            ctx.fillText('Connected Commerce on Solana', 750, 280);
            ctx.restore();
        }

        function drawPerpetualUpgrade() {
            const width = 1500;
            const height = 500;
            
            // Background
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, width, height);
            
            // Gradient overlay
            const bgGradient = ctx.createLinearGradient(0, 0, width, height);
            bgGradient.addColorStop(0, 'rgba(153, 69, 255, 0.1)');
            bgGradient.addColorStop(1, 'rgba(20, 241, 149, 0.1)');
            ctx.fillStyle = bgGradient;
            ctx.fillRect(0, 0, width, height);
            
            // Draw circular flow
            const centerX = 750;
            const centerY = 280;
            const radius = 120;
            
            // Circle path
            ctx.save();
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.stroke();
            ctx.setLineDash([]);
            ctx.restore();
            
            // Flow arrows
            const steps = [
                { angle: 0, icon: 'ðŸ“±', label: 'Old Device' },
                { angle: Math.PI * 0.66, icon: 'â—Ž', label: 'Get SOL' },
                { angle: Math.PI * 1.33, icon: 'âœ¨', label: 'Upgrade' }
            ];
            
            steps.forEach((step, i) => {
                const x = centerX + Math.cos(step.angle) * radius;
                const y = centerY + Math.sin(step.angle) * radius;
                
                // Icon background
                const iconGradient = ctx.createRadialGradient(x, y, 0, x, y, 40);
                iconGradient.addColorStop(0, i === 1 ? 'rgba(20, 241, 149, 0.3)' : 'rgba(153, 69, 255, 0.3)');
                iconGradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
                ctx.fillStyle = iconGradient;
                ctx.beginPath();
                ctx.arc(x, y, 40, 0, Math.PI * 2);
                ctx.fill();
                
                // Icon
                ctx.font = '36px Arial';
                ctx.fillStyle = '#ffffff';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(step.icon, x, y);
                
                // Label
                ctx.font = '16px -apple-system, BlinkMacSystemFont, sans-serif';
                ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                ctx.fillText(step.label, x, y + 55);
                
                // Arrow to next
                const nextAngle = steps[(i + 1) % 3].angle;
                const arrowStart = step.angle + 0.3;
                const arrowEnd = nextAngle - 0.3;
                
                ctx.save();
                ctx.strokeStyle = i === 0 ? '#9945FF' : '#14F195';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, arrowStart, arrowEnd);
                ctx.stroke();
                
                // Arrowhead
                const arrowX = centerX + Math.cos(arrowEnd) * radius;
                const arrowY = centerY + Math.sin(arrowEnd) * radius;
                ctx.fillStyle = ctx.strokeStyle;
                ctx.beginPath();
                ctx.moveTo(arrowX, arrowY);
                ctx.lineTo(arrowX - 10 * Math.cos(arrowEnd - 0.5), arrowY - 10 * Math.sin(arrowEnd - 0.5));
                ctx.lineTo(arrowX - 10 * Math.cos(arrowEnd + 0.5), arrowY - 10 * Math.sin(arrowEnd + 0.5));
                ctx.closePath();
                ctx.fill();
                ctx.restore();
            });
            
            // Title
            ctx.save();
            ctx.font = 'bold 64px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = '#ffffff';
            ctx.textAlign = 'left';
            ctx.fillText('ReFit', 100, 120);
            
            ctx.font = '28px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.fillText('Perpetual Upgrade Program', 100, 170);
            
            // Right side text
            ctx.textAlign = 'right';
            ctx.font = '24px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillStyle = '#14F195';
            ctx.fillText('Trade â†’ Earn â†’ Upgrade', 1400, 120);
            ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
            ctx.font = '18px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.fillText('The sustainable tech ecosystem', 1400, 150);
            ctx.restore();
        }

        function drawMinimal() {
            // Enable high-quality rendering
            ctx.imageSmoothingEnabled = true;
            ctx.imageSmoothingQuality = 'high';
            
            // Pure black background
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, width, height);
            
            // Jobs-style: One subtle gradient accent, not a line but integrated with text
            ctx.save();
            
            // Main brand name - larger, bolder, perfect spacing
            ctx.font = `600 ${110 * scale}px -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif`;
            ctx.textAlign = 'center';
            
            // Pure white for maximum contrast and clarity
            ctx.fillStyle = '#ffffff';
            ctx.fillText('ReFit', width/2, 210 * scale);
            
            // Tagline - smaller, lighter weight for hierarchy, more spacing
            ctx.font = `300 ${32 * scale}px -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif`;
            ctx.fillStyle = 'rgba(255, 255, 255, 0.85)';
            ctx.fillText('Your old phone is worth SOL', width/2, 290 * scale);
            
            // Single subtle gradient underline - thinner, more elegant
            const underlineGradient = ctx.createLinearGradient(400 * scale, 0, 1100 * scale, 0);
            underlineGradient.addColorStop(0, 'rgba(153, 69, 255, 0)');
            underlineGradient.addColorStop(0.35, 'rgba(153, 69, 255, 0.7)');
            underlineGradient.addColorStop(0.5, 'rgba(20, 241, 149, 0.7)');
            underlineGradient.addColorStop(0.65, 'rgba(153, 69, 255, 0.7)');
            underlineGradient.addColorStop(1, 'rgba(153, 69, 255, 0)');
            
            ctx.fillStyle = underlineGradient;
            ctx.fillRect(400 * scale, 318 * scale, 700 * scale, 2 * scale);
            
            ctx.restore();
        }

        function drawLogo(x, y, size) {
            ctx.save();
            ctx.translate(x, y);
            
            // Create gradient
            const gradient = ctx.createLinearGradient(-size/2, -size/2, size/2, size/2);
            gradient.addColorStop(0, '#9945FF');
            gradient.addColorStop(0.5, '#14F195');
            gradient.addColorStop(1, '#9945FF');
            
            // Outer circle
            ctx.beginPath();
            ctx.arc(0, 0, size * 0.9, 0, Math.PI * 2);
            ctx.strokeStyle = gradient;
            ctx.lineWidth = size * 0.08;
            ctx.stroke();
            
            // Inner circle
            ctx.beginPath();
            ctx.arc(0, 0, size * 0.65, 0, Math.PI * 2);
            ctx.strokeStyle = gradient;
            ctx.lineWidth = size * 0.03;
            ctx.globalAlpha = 0.5;
            ctx.stroke();
            ctx.globalAlpha = 1;
            
            // Screw slot
            ctx.beginPath();
            ctx.moveTo(-size * 0.5, size * 0.5);
            ctx.lineTo(size * 0.5, -size * 0.5);
            ctx.strokeStyle = gradient;
            ctx.lineWidth = size * 0.12;
            ctx.lineCap = 'round';
            ctx.stroke();
            
            ctx.restore();
        }

        function downloadImage(format = 'png') {
            // Create a canvas at the correct Twitter size (1500x500)
            const downloadCanvas = document.createElement('canvas');
            downloadCanvas.width = 1500;
            downloadCanvas.height = 500;
            const downloadCtx = downloadCanvas.getContext('2d');
            
            // Scale down the high-res canvas to Twitter size
            downloadCtx.imageSmoothingEnabled = true;
            downloadCtx.imageSmoothingQuality = 'high';
            
            if (format === 'jpg') {
                // White background for JPG
                downloadCtx.fillStyle = '#ffffff';
                downloadCtx.fillRect(0, 0, 1500, 500);
            }
            
            // Draw the high-res canvas scaled down to Twitter size
            downloadCtx.drawImage(canvas, 0, 0, width, height, 0, 0, 1500, 500);
            
            const link = document.createElement('a');
            link.download = `refit-banner-${currentStyle}-twitter.${format}`;
            
            if (format === 'jpg') {
                link.href = downloadCanvas.toDataURL('image/jpeg', 0.95);
            } else {
                link.href = downloadCanvas.toDataURL('image/png');
            }
            
            link.click();
        }

        // Draw initial banner - Jobs Approved by default
        drawBanner('jobs');
    </script>
</body>
</html>